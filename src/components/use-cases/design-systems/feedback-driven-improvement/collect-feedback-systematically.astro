---
import UseCase from '../../../UseCase.astro';
import UseCaseInteractive from '../../../UseCaseInteractive.astro';
import personalData from '../../../../data/personal.json';
import Usage from '../../../Usage.astro';
import UsageItem from '../../../UsageItem.astro';
import Markdown from '../../../../components/Markdown.astro';
import Brand from '../../../Brand.astro';
import ProductCategory from '../../../ProductCategory.astro';
import Products from '../../../Products.astro';
import Separator from '../../../../components/Separator.astro';
---

<UseCase
  title="Collect feedback systematically"
  description="Feedback should be easy to give and easy to process."
>
  <UseCaseInteractive
    clsHeight={320}
    articleId="collect-feedback-systematically"
    label="Collect feedback systematically"
    size="sm"
    contentClass="justify-center items-center"
    padding={false}
    bugComponent="mds-status-bar"
    bugCurrent="When the viewport is mobile, the component now going to full width."
    bugExpected="When the viewport is mobile, the component should go to full width."
  >
    <div
      class="grid min-h-8000 grid-cols-[180px_1fr] mobile:grid-cols-full w-full"
      data-feedback-container
    >
      <div
        class="bg-label-sky-10 border-r border-label-sky-09 border-0 border-solid p-600 gap-600 grid auto-rows-min mobile:hidden"
      >
        <Brand name="storybook" />
        <div class="grid gap-100">
          <div class="px-400 py-100"><mds-text typography="caption"><b>Banner</b></mds-text></div>
          <div class="px-400 py-100 rounded-md bg-label-sky-04 text-tone-neutral-10">
            <mds-text typography="caption"><b>Button</b></mds-text>
          </div>
          <div class="px-400 py-100"><mds-text typography="caption"><b>Modal</b></mds-text></div>
          <div class="px-400 py-100"><mds-text typography="caption"><b>Table</b></mds-text></div>
        </div>
      </div>
      <div
        class="p-600 flex items-start justify-start mobile:justify-center mobile:col-span-2 w-full"
      >
        <mds-button class="shrink-0" variant="primary" tone="strong" icon="mi/baseline/check-circle"
          >Button component</mds-button
        >
      </div>
    </div>
    <mds-status-bar class="mobile:w-full" data-status-bar>
      <div class="grid gap-300 min-w-5600">
        <mds-input-field label="can we improve it?">
          <mds-input type="textarea" placeholder="Write your feedback for this component"
          ></mds-input>
        </mds-input-field>
        <mds-button variant="primary" tone="weak" size="sm">Submit</mds-button>
      </div>
    </mds-status-bar>
    <script>
      function initFeedbackHover() {
        const feedbackContainer = document.querySelector('[data-feedback-container]');
        const statusBar = document.querySelector('[data-status-bar]');

        if (!feedbackContainer || !statusBar) return;

        function handleMouseOver() {
          if (statusBar) {
            statusBar.setAttribute('visible', '');
          }
          if (feedbackContainer) {
            feedbackContainer.removeEventListener('mouseover', handleMouseOver);
          }
        }

        feedbackContainer.addEventListener('mouseover', handleMouseOver);
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initFeedbackHover);
      } else {
        initFeedbackHover();
      }
    </script>
  </UseCaseInteractive>
</UseCase>

<Usage>
  <UsageItem variant="do">Provide clear channels for feedback (forms, issues, surveys).</UsageItem>
  <UsageItem variant="dont">Rely solely on informal conversations or hallway chats.</UsageItem>
  <UsageItem variant="do">Make feedback collection part of regular workflows.</UsageItem>
  <UsageItem variant="dont">Wait for feedback to come to you.</UsageItem>
</Usage>

<Products>
  <ProductCategory title="Survey tools">
    <Brand name="typeform" label="Typeform" />
    <Brand name="google-forms" label="Google Forms" />
  </ProductCategory>
  <ProductCategory title="In-app feedback tools">
    <Brand name="hotjar" label="Hotjar" />
    <Brand name="survicate" label="Survicate" />
  </ProductCategory>
  <ProductCategory title="Issue tracking">
    <Brand name="github" label="Github Issues" />
    <Brand name="jira" label="Jira" />
    <Brand name="linear" label="Linear" />
  </ProductCategory>
  <ProductCategory title="Customer support">
    <Brand name="slack" label="Slack" />
    <Brand icon="mi/outline/email" label="Via newsletter" />
    <Brand icon="mi/outline/chat" label="Via chat" />
  </ProductCategory>
</Products>

<Separator />
