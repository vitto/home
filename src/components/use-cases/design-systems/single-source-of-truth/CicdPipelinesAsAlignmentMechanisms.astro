---
import Brand from '../../../Brand.astro';
import ProductCategory from '../../../ProductCategory.astro';
import Products from '../../../Products.astro';
import Separator from '../../../Separator.astro';
import Usage from '../../../Usage.astro';
import UsageItem from '../../../UsageItem.astro';
import UseCase from '../../../UseCase.astro';
import UseCaseInteractive from '../../../UseCaseInteractive.astro';
---

<UseCase
  title="CI/CD pipelines as alignment mechanisms"
  description="The build and deployment pipeline was used not only for distribution, but as a mechanism for enforcing coherence between design and development."
>
  <UseCaseInteractive clsHeight={320} label="CI/CD pipeline stages">
    <mds-table class="w-full">
      <mds-table-header>
        <mds-table-header-cell label="Stage"></mds-table-header-cell>
        <mds-table-header-cell label="Status" class="text-center"></mds-table-header-cell>
        <mds-table-header-cell label="Purpose"></mds-table-header-cell>
        <mds-table-header-cell label="Enforcement"></mds-table-header-cell>
      </mds-table-header>
      <mds-table-body>
        <mds-table-row>
          <mds-table-cell>
            <mds-text typography="caption"><strong>Lint & Type Check</strong></mds-text>
          </mds-table-cell>
          <mds-table-cell class="text-center">
            <mds-icon name="mi/baseline/check-circle" class="fill-status-success-05"></mds-icon>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Validate code quality and type safety</mds-text>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Prevents type mismatches</mds-text>
          </mds-table-cell>
        </mds-table-row>
        <mds-table-row>
          <mds-table-cell>
            <mds-text typography="caption"><strong>Visual Regression</strong></mds-text>
          </mds-table-cell>
          <mds-table-cell class="text-center">
            <mds-icon name="mi/baseline/check-circle" class="fill-status-success-05"></mds-icon>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Compare visual changes against baseline</mds-text>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Ensures design consistency</mds-text>
          </mds-table-cell>
        </mds-table-row>
        <mds-table-row>
          <mds-table-cell>
            <mds-text typography="caption"><strong>Accessibility Tests</strong></mds-text>
          </mds-table-cell>
          <mds-table-cell class="text-center">
            <mds-icon name="mi/baseline/check-circle" class="fill-status-success-05"></mds-icon>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Verify a11y compliance</mds-text>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Enforces accessibility standards</mds-text>
          </mds-table-cell>
        </mds-table-row>
        <mds-table-row>
          <mds-table-cell>
            <mds-text typography="caption"><strong>Build & Bundle</strong></mds-text>
          </mds-table-cell>
          <mds-table-cell class="text-center">
            <mds-icon name="mi/baseline/check-circle" class="fill-status-success-05"></mds-icon>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Compile and optimize components</mds-text>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Single source of truth output</mds-text>
          </mds-table-cell>
        </mds-table-row>
        <mds-table-row>
          <mds-table-cell>
            <mds-text typography="caption"><strong>Publish to Registry</strong></mds-text>
          </mds-table-cell>
          <mds-table-cell class="text-center">
            <mds-spinner running class="size-600"></mds-spinner>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Release versioned package</mds-text>
          </mds-table-cell>
          <mds-table-cell>
            <mds-text typography="caption">Automated versioning</mds-text>
          </mds-table-cell>
        </mds-table-row>
      </mds-table-body>
    </mds-table>
  </UseCaseInteractive>
</UseCase>

<Usage>
  <UsageItem variant="do">Automate validation and publishing processes.</UsageItem>
  <UsageItem variant="dont">Rely on manual releases.</UsageItem>
  <UsageItem variant="do">
    Separate environments to make the actual state of the system explicit.
  </UsageItem>
  <UsageItem variant="dont">
    Allow discrepancies between documented components and shipped code.
  </UsageItem>
</Usage>

<Products>
  <ProductCategory title="CI/CD">
    <Brand name="github" label="GitHub Actions" />
  </ProductCategory>
  <ProductCategory title="Version management">
    <Brand name="changesets" label="Changesets" />
  </ProductCategory>
</Products>

<Separator />
