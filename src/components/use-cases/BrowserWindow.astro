---
/**
 * BrowserWindow Component
 *
 * Aesthetically emulates a simple browser window that wraps content
 *
 * Props:
 * @param {string} url - The URL to display in the address bar (default: "example.com")
 * @param {string} title - Optional window title
 * @param {string} class - Additional CSS classes
 */
interface Props {
  url?: string;
  title?: string;
  class?: string;
}

const { url = 'example.com', title, class: className = '' } = Astro.props;
---

<div
  class={`flex flex-col w-full rounded-lg overflow-hidden shadow-lg border border-solid border-tone-neutral-08 bg-tone-neutral ${className}`}
>
  <!-- Title bar with window controls -->
  <div
    class="user-select-none flex items-center gap-400 px-400 py-200 bg-tone-neutral-09 border-b border-tone-neutral-07"
  >
    <!-- macOS-style window controls -->
    <div class="flex items-center gap-200 shrink-0">
      <div class="size-300 rounded-full bg-status-error-06" title="Close"></div>
      <div class="size-300 rounded-full bg-tone-neutral-06" title="Minimize"></div>
      <div class="size-300 rounded-full bg-status-success-06" title="Maximize"></div>
    </div>

    <!-- Address bar -->
    <div
      class="mobile:hidden flex-1 flex items-center gap-200 px-400 py-100 bg-tone-neutral rounded-md border border-tone-neutral-06 min-w-0"
    >
      <mds-icon name="mi/outline/lock" class="w-400 h-400 text-tone-neutral-04 shrink-0"></mds-icon>
      <mds-text typography="caption" class="text-tone-neutral-05 truncate">
        {url}
      </mds-text>
    </div>

    {
      title && (
        <mds-text typography="caption" class="text-tone-neutral-04 px-200" truncate="word">
          {title}
        </mds-text>
      )
    }
  </div>

  <!-- Content area -->
  <div class="flex flex-col bg-tone-neutral">
    <slot />
  </div>
</div>
