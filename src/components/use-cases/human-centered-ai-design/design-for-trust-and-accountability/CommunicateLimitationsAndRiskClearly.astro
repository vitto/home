---
import UseCase from '../../../UseCase.astro';
import UseCaseInteractive from '../../../UseCaseInteractive.astro';
import Usage from '../../../Usage.astro';
import UsageItem from '../../../UsageItem.astro';
import Markdown from '../../../Markdown.astro';
import AIBalloon from '../../AIBalloon.astro';
import AIBalloonMessage from '../../AIBalloonMessage.astro';
import AIResponseMessage from '../../AIResponseMessage.astro';
import AIResponseFooter from '../../AIResponseFooter.astro';
import HighlightBox from '../../HighlightBox.astro';
import AIResponseFooterActions from '../../AIResponseFooterActions.astro';
import AIResponseInfosSection from '../../AIResponseInfosSection.astro';
import AIResponseInfos from '../../AIResponseInfos.astro';
import AIResponseInfosSectionItem from '../../AIResponseInfosSectionItem.astro';
---

<UseCase
  title="Communicate Limitations and Risk Clearly"
  description="State constraints and risks in user-facing terms—what the AI can and can't do, and when to be cautious—so users can make informed decisions."
>
  <UseCaseInteractive clsHeight={112} label="Limitations and risk" multiple>
    <div class="grid gap-600 w-full max-w-9600">
      <AIBalloon>
        <AIBalloonMessage>are horses herbivores?</AIBalloonMessage>
      </AIBalloon>
      <AIResponseMessage>
        <Markdown
          typography="detail"
          content={`
Yes, **horses are herbivores**: their diet is based exclusively on plant materials. They feed primarily on grass, hay, straw, leaves, fruits, and vegetables. Their digestive system is specifically adapted to digest plant fiber, thanks to a long intestine and a fermentation system in the cecum and colon.

They require a high-fiber diet to maintain digestive health and prevent problems like colic. Want to know more about their diet or specific care?
      `}
        />
        <HighlightBox label="enterprise governance" class="relative grid gap-600" variant="warning">
          <AIResponseFooter>
            <AIResponseFooterActions />
            <div class="shrink-0 flex items-center gap-100">
              <mds-text typography="caption">Confidence high</mds-text>
              <mds-badge variant="success" tone="weak" class="ml-100">0.92</mds-badge>
              <mds-button
                data-show-modal-confidence-button
                icon="mi/outline/bar-chart"
                title="More confidence metrics"
                variant="dark"
                tone="quiet"
                size="sm"></mds-button>
              <mds-modal position="right" class="rounded-xl" data-modal-confidence>
                <AIResponseInfos>
                  <AIResponseInfosSection label="Summary">
                    <AIResponseInfosSectionItem title="Model" value="gpt-4.2" />
                    <AIResponseInfosSectionItem title="Model version" value="4.2.17" />
                    <AIResponseInfosSectionItem title="Generated at" value="2026-02-23T09:02:10Z" />
                    <AIResponseInfosSectionItem
                      title="Domain classification"
                      value="General Biology"
                    />
                    <AIResponseInfosSectionItem
                      title="Risk category"
                      value="Low"
                      variant="success"
                    />
                  </AIResponseInfosSection>
                  <AIResponseInfosSection label="Confidence & Calibration">
                    <AIResponseInfosSectionItem
                      title="Confidence level"
                      value="0.92"
                      variant="success"
                      description="The probability that the model's output is correct"
                    />
                    <AIResponseInfosSectionItem
                      title="Calibration score"
                      value="0.88"
                      variant="success"
                      description="How well the model's confidence aligns with actual correctness"
                    />
                    <AIResponseInfosSectionItem
                      title="Output stability (3 reruns variance)"
                      value="0.04"
                      variant="success"
                      description="Variation across repeated generations with same parameters."
                    />
                  </AIResponseInfosSection>
                  <AIResponseInfosSection label="Knowledge & Coverage">
                    <AIResponseInfosSectionItem
                      title="Training domain match"
                      value="High"
                      variant="success"
                    />
                    <AIResponseInfosSectionItem
                      title="External retrieval used"
                      value="No"
                      variant="success"
                    />
                    <AIResponseInfosSectionItem
                      title="Knowledge cutoff relevance risk"
                      value="Low"
                      variant="success"
                    />
                    <AIResponseInfosSectionItem
                      title="Distribution shift detected"
                      value="No"
                      variant="success"
                    />
                  </AIResponseInfosSection>
                  <AIResponseInfosSection label="Performance & Metrics">
                    <AIResponseInfosSectionItem title="Latency" value="1.4s" variant="warning" />
                    <AIResponseInfosSectionItem title="Token usage" value="412" />
                    <AIResponseInfosSectionItem title="Prompt tokens" value="98" />
                    <AIResponseInfosSectionItem title="Completion tokens" value="314" />
                    <AIResponseInfosSectionItem title="Cost estimate" value="$0.012" />
                  </AIResponseInfosSection>
                </AIResponseInfos>
              </mds-modal>
            </div>
          </AIResponseFooter>
        </HighlightBox>
      </AIResponseMessage>
    </div>
    <div class="grid gap-600 w-full max-w-9600">
      <AIBalloon>
        <AIBalloonMessage>are horses herbivores?</AIBalloonMessage>
      </AIBalloon>
      <AIResponseMessage>
        <Markdown
          typography="detail"
          content={`
Yes, **horses are herbivores**: their diet is based exclusively on plant materials. They feed primarily on grass, hay, straw, leaves, fruits, and vegetables. Their digestive system is specifically adapted to digest plant fiber, thanks to a long intestine and a fermentation system in the cecum and colon.

They require a high-fiber diet to maintain digestive health and prevent problems like colic. Want to know more about their diet or specific care?
      `}
        />
        <HighlightBox label="risk-aware systems" class="relative grid gap-600" variant="info">
          <AIResponseFooter>
            <AIResponseFooterActions />
            <div
              class="shrink-0 flex items-center gap-100"
              title="Confidence indicates the model’s estimated reliability based on training distribution and output stability."
            >
              <mds-text class="justify-self-end" typography="caption">Confidence</mds-text>
              <mds-badge variant="success" tone="weak" class="ml-100">High</mds-badge>
            </div>
          </AIResponseFooter>
        </HighlightBox>
      </AIResponseMessage>
    </div>
    <div class="grid gap-600 w-full max-w-9600">
      <AIBalloon>
        <AIBalloonMessage>are horses herbivores?</AIBalloonMessage>
      </AIBalloon>
      <AIResponseMessage>
        <Markdown
          typography="detail"
          content={`
Yes, **horses are herbivores**: their diet is based exclusively on plant materials. They feed primarily on grass, hay, straw, leaves, fruits, and vegetables. Their digestive system is specifically adapted to digest plant fiber, thanks to a long intestine and a fermentation system in the cecum and colon.

They require a high-fiber diet to maintain digestive health and prevent problems like colic. Want to know more about their diet or specific care?
      `}
        />
        <HighlightBox label="calibrated trust" class="relative grid gap-600">
          <AIResponseFooter>
            <AIResponseFooterActions />
            <div class="shrink-0 flex items-center gap-100">
              <mds-text
                typography="caption"
                title="Confidence indicates the model’s estimated reliability based on training distribution and output stability."
                ><b>Confidence: High</b></mds-text
              >
            </div>
          </AIResponseFooter>
        </HighlightBox>
      </AIResponseMessage>
    </div>
  </UseCaseInteractive>
  <script>
    document.querySelectorAll('[data-show-modal-confidence-button]').forEach((btn) => {
      btn.addEventListener('click', () => {
        const modal = document.querySelector('[data-modal-confidence]');
        if (modal) modal.setAttribute('opened', '');
      });
    });
  </script>
  <Usage>
    <UsageItem variant="do">
      Describe what the AI is good at and where it may be wrong or inappropriate, in user-facing
      language.
    </UsageItem>
    <UsageItem variant="dont">
      Present the AI as universally capable or hide limitations in fine print or legal text only.
    </UsageItem>
    <UsageItem variant="do">
      When output can affect rights, benefits, or safety, surface the risk and suggest human review
      or expert advice.
    </UsageItem>
    <UsageItem variant="dont">
      Treat high-stakes suggestions the same as low-stakes ones with no extra warning or path to
      support.
    </UsageItem>
  </Usage>
</UseCase>
