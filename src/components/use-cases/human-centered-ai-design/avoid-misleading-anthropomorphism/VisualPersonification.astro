---
import UseCase from '../../../UseCase.astro';
import UseCaseInteractive from '../../../UseCaseInteractive.astro';
import Usage from '../../../Usage.astro';
import UsageItem from '../../../UsageItem.astro';
---

<UseCase
  title="Visual Personification (Avatars, Faces, Human Traits)"
  description="Avoid visual design that makes AI systems appear human-like, which can create false expectations about capabilities and emotional connection."
>
  <UseCaseInteractive clsHeight={174} label="Visual design comparison" toggle>
    <div
      class="flex flex-col items-center justify-center gap-400 w-full max-w-9600"
      data-ai-chatbot-container
    >
      <mds-emoji class="size-2400 m-auto" data-ai-chatbot></mds-emoji>
      <div class="flex flex-col gap-200 items-center justify-center">
        <mds-text typography="h3">Hexabot</mds-text>
        <mds-badge variant="success" tone="weak">AI avatar</mds-badge>
      </div>
    </div>
    <div class="flex flex-col items-center justify-center gap-400 w-full max-w-9600">
      <video
        class="size-2400 m-auto rounded-xl object-cover object-top"
        autoplay
        loop
        muted
        src="/assets/ai-antropomorphic-assistant.mp4"></video>
      <div class="flex flex-col gap-200 items-center justify-center">
        <mds-text typography="h3">Sarah</mds-text>
        <mds-badge variant="error" tone="weak">Antropomorphic avatar</mds-badge>
      </div>
    </div>
  </UseCaseInteractive>
  <script>
    function initAiChatbotBlinking() {
      const emojiEl = document.querySelector('[data-ai-chatbot]');
      if (!emojiEl) return;

      const api = emojiEl as unknown as {
        startBlinking?: () => void;
        startFollowMouse?: () => void;
        stopFollowMouse?: () => void;
      };

      const runBlinking = () => {
        if (typeof api.startBlinking === 'function') api.startBlinking.call(emojiEl);
      };

      const runFollowMouse = () => {
        if (typeof api.startFollowMouse === 'function') api.startFollowMouse.call(emojiEl);
      };

      const runStopFollowMouse = () => {
        if (typeof api.stopFollowMouse === 'function') api.stopFollowMouse.call(emojiEl);
      };

      if (customElements.get('mds-emoji')) {
        runBlinking();
      } else {
        customElements.whenDefined('mds-emoji').then(runBlinking);
      }

      const interactiveContainer = emojiEl.closest('.use-case-interactive-content')?.parentElement;
      if (interactiveContainer) {
        interactiveContainer.addEventListener('mouseenter', runFollowMouse);
        interactiveContainer.addEventListener('mouseleave', runStopFollowMouse);
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initAiChatbotBlinking);
    } else {
      initAiChatbotBlinking();
    }
  </script>
  <Usage>
    <UsageItem variant="do">
      Use abstract icons or functional symbols to represent AI systems.
    </UsageItem>
    <UsageItem variant="dont">
      Use human-like avatars, faces, or anthropomorphic characters that suggest the AI is a person.
    </UsageItem>
    <UsageItem variant="do">
      Clearly label AI systems with descriptive terms like "AI Assistant" or "Chatbot".
    </UsageItem>
    <UsageItem variant="dont">
      Give AI systems human names or personal identities that create false expectations.
    </UsageItem>
  </Usage>
</UseCase>
