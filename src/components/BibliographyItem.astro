---
interface Props {
  author: string;
  title: string;
  description: string;
  url?: string;
  status?: 'obsolete' | 'missing' | 'active';
  class?: string;
}

const { author, title, description, url, status = 'active', class: className = '' } = Astro.props;
---

<article class={`grid gap-100 ${className}`}>
  <h5 class="text-title-h5 max-w-full">{author} â€” {title}</h5>
  <mds-text typography="caption" class="text-info-paragraph">{description}</mds-text>
  {
    url && (
      <a
        href={url}
        class={`
          ${status === 'obsolete' ? 'line-through decoration-wavy decoration-tone-neutral-03 text-tone-neutral-05 hover:decoration-tone-neutral-03/0 focus-visible:decoration-tone-neutral-03/0 hover:text-tone-neutral-03 focus-visible:text-tone-neutral-03' : ''}
          ${status === 'missing' ? 'line-through decoration-solid decoration-tone-neutral-03 text-tone-neutral-05 hover:decoration-tone-neutral-03/0 focus-visible:decoration-tone-neutral-03/0 hover:text-tone-neutral-03 focus-visible:text-tone-neutral-03' : ''}
        `.trim()}
        title={`
          ${status === 'obsolete' ? 'Source changed' : ''}
          ${status === 'missing' ? 'Source reomved or no longer available' : ''}
          ${status === 'active' ? 'Go to source' : ''}
        `.trim()}
        target="_blank"
        rel="noreferrer noopener"
      >
        {url}
      </a>
    )
  }
</article>
