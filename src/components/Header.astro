---
import Button from './Button.astro';
import Icon from './Icon.astro';
import categoriesData from '../data/categories.json';

interface Props {
  items?: Array<{
    href: string;
    label: string;
    icon: string;
  }>;
}

const baseUrl = import.meta.env.BASE_URL;

// Map categories data to header items format
const defaultItems = categoriesData.map((category) => ({
  href: `${baseUrl}${category.path}`,
  label: category.title,
  icon: category.icon,
}));

const { items = defaultItems } = Astro.props;
---

<header class="flex items-center gap-400 justify-between">
  <a href={baseUrl} class="inline-flex focus-bounce rounded-2xl shrink-0">
    <img
      alt="Vittorio Vittori Logo"
      src={`${baseUrl}/vittorio-vittori-logo-centered.svg`}
      class="w-2000 h-2000 justify-self-center"
    />
  </a>
  <nav class="flex flex-wrap items-center gap-400">
    {
      items.map((item) => (
        <Button href={item.href} variant="light">
          <Icon name={item.icon} />
          {item.label}
        </Button>
      ))
    }
  </nav>
</header>
