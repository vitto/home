---
/**
 * Category Cards Component
 */
interface Props {}

const {} = Astro.props;

const baseUrl = import.meta.env.BASE_URL;

const categories = [
  {
    id: 'user-centered-design',
    title: 'User-Centered Design',
    icon: 'mi/baseline/person',
    iconHover: 'group-hover:bg-status-success-09 group-hover:fill-status-success-05',
    description: 'Applying NN/g usability heuristics to create intuitive, accessible interfaces',
    link: `${baseUrl}user-centered-design`,
  },
  {
    id: 'design-systems',
    title: 'Design Systems',
    icon: 'mi/baseline/palette',
    iconHover: 'group-hover:bg-label-amaranth-09 group-hover:fill-label-amaranth-05',
    description: 'Building scalable, maintainable component libraries with clear documentation',
    link: `${baseUrl}design-systems`,
  },
  {
    id: 'hax-principles',
    title: 'HAX Principles',
    icon: 'mgg/ai-chatbot',
    iconHover: 'group-hover:bg-label-violet-09 group-hover:fill-label-violet-05',
    description:
      'Designing transparent, predictable AI experiences following Microsoft HAX guidelines',
    link: `${baseUrl}hax-principles`,
  },
];
---

<section
  id="category-cards-section"
  class="pb-2000 px-600 desktop:px-1200 bg-white relative z-10"
  data-scroll
>
  <div class="max-w-screen-wide w-full mx-auto">
    <div class="grid grid-cols-1 tablet:grid-cols-3 desktop:gap-800 tablet:gap-600">
      {
        categories.map((category) => (
          <a href={category.link} class="block group no-underline" data-category-id={category.id}>
            <mds-card class="rounded-3xl text-tone-neutral-03 group-hover:-translate-y-200 shadow-sm-sharp transition-cosmetic bg-tone-neutral/80 backdrop-blur group-hover:bg-tone-neutral ease-out-expo duration-1000">
              <mds-card-content class="p-600">
                <div
                  class={`p-200 -translate-x-200 rounded-lg inline-flex justify-self-start bg-transparent transition-cosmetic group-hover:-translate-y-200 group-hover:pt-200 ease-out-expo duration-1000 fill-tone-neutral-03 ${category.iconHover}`}
                >
                  <mds-icon name={category.icon} />
                </div>
                <mds-text typography="h2" class="mb-300">
                  {category.title}
                </mds-text>
                <mds-text typography="detail" class="leading-relaxed">
                  {category.description}
                </mds-text>
                <div class="mt-600 opacity-0-group-hover:opacity-100 group-hover:translate-y-0 transition-cosmetic translate-y-200">
                  <mds-text text="→" animation="yugop" data-category-text={category.id} />
                </div>
              </mds-card-content>
            </mds-card>
          </a>
        ))
      }
    </div>
  </div>
</section>

<script>
  // Handle category card text animation on hover
  function initCategoryCardsTextAnimation() {
    const categoryLinks = document.querySelectorAll('[data-category-id]');

    categoryLinks.forEach((link) => {
      const categoryId = link.getAttribute('data-category-id');
      const textElement = document.querySelector(`[data-category-text="${categoryId}"]`);

      if (!textElement) return;

      link.addEventListener('mouseenter', () => {
        // Change text to trigger animation
        textElement.setAttribute('text', 'Explore →');
      });

      link.addEventListener('mouseleave', () => {
        // Change text back to trigger animation
        textElement.setAttribute('text', '→');
      });
    });
  }

  // Initialize text animation when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initCategoryCardsTextAnimation);
  } else {
    initCategoryCardsTextAnimation();
  }
</script>
