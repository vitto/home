---
import UseCaseLayout from '../../layouts/UseCaseLayout.astro';
import data from '../../data/hax-principles.json';
import PrincipleNav from '../../components/PrincipleNav.astro';

const baseUrl = import.meta.env.BASE_URL;

export async function getStaticPaths() {
  return data.principles.map((principle) => ({
    params: { slug: principle.id },
    props: { principle },
  }));
}

interface Props {
  principle: (typeof data.principles)[0];
}

const { principle } = Astro.props;
const sectionPath = '/hax-principles';
---

<UseCaseLayout
  title={`${principle.title} - HAX Principles`}
  principle={principle}
  categoryColors={data.categoryColors}
  sectionName={data.title}
  sectionPath="/hax-principles"
>
  <slot />
  <PrincipleNav
    baseUrl={baseUrl}
    currentPrincipleId={principle.id}
    sectionPath={sectionPath}
    allPrinciples={data.principles}
  />
</UseCaseLayout>
