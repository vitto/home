---
import UseCaseLayout from '../../layouts/UseCaseLayout.astro';
import data from '../../data/design-systems.json';
import PrincipleNav from '../../components/PrincipleNav.astro';
import Markdown from '../../components/Markdown.astro';
import Usage from '../../components/Usage.astro';
import UsageItem from '../../components/UsageItem.astro';
import Bibliography from '../../components/Bibliography.astro';
import BibliographyItem from '../../components/BibliographyItem.astro';
import BibliographySection from '../../components/BibliographySection.astro';

const principle = data.principles.find((p) => p.id === 'constraints-driven-design')!;
const baseUrl = import.meta.env.BASE_URL;
const sectionPath = '/design-systems';
---

<UseCaseLayout
  title={`${principle.title} - Design Systems`}
  principle={principle}
  categoryColors={data.categoryColors}
  sectionName={data.title}
  sectionPath="/design-systems"
>
  <article class="grid gap-600">
    <Markdown
      content={`
When I design a design system, I treat constraints as a design tool, not as a limitation to work around.

Explicit constraints reduce ambiguity, guide decision-making, and prevent the gradual erosion of the system.

In the absence of clearly defined constraints, teams tend to:

- improvise solutions,
- stretch components beyond their intended purpose,
- and introduce inconsistencies that are difficult to detect and even harder to remove.

A constraints-driven system makes boundaries visible.

It defines not only what is possible, but also what is intentionally unsupported, allowing teams to move faster and with greater confidence.

- Constraints are most effective when they are:
- explicit,
- documented,
- and enforced by the system itself.
      `}
    />

    <Markdown
      content={`
## Approach

---

#### Limited and intentional component APIs

Components were designed with intentionally constrained APIs to prevent misuse and uncontrolled variation.
      `}
    />

    <Usage>
      <UsageItem variant="do">
        Expose only properties that support known and validated use cases.
      </UsageItem>
      <UsageItem variant="dont">Add configuration options to solve isolated problems.</UsageItem>
      <UsageItem variant="do">
        Treat every new prop as a design decision with long-term impact.
      </UsageItem>
      <UsageItem variant="dont">
        Turn components into generic containers with unlimited flexibility.
      </UsageItem>
    </Usage>
    <Markdown
      content={`
#### Design tokens as enforced boundaries

Design tokens were used to encode visual constraints directly into the system.
      `}
    />

    <Usage>
      <UsageItem variant="do">
        Use tokens to control spacing, color, typography, and motion.
      </UsageItem>
      <UsageItem variant="dont">Allow arbitrary values outside the token set.</UsageItem>
      <UsageItem variant="do">
        Make tokens the only supported way to express system values.
      </UsageItem>
      <UsageItem variant="dont">Treat tokens as optional or decorative abstractions.</UsageItem>
    </Usage>

    <Markdown
      content={`
#### Composition rules instead of free assembly

Composable components were governed by explicit composition rules.
      `}
    />

    <Usage>
      <UsageItem variant="do">Define which components can be nested or combined.</UsageItem>
      <UsageItem variant="dont">Allow unrestricted component nesting.</UsageItem>
      <UsageItem variant="do">Document supported compositions and known anti-patterns.</UsageItem>
      <UsageItem variant="dont">Rely on visual review to catch invalid compositions.</UsageItem>
    </Usage>

    <Markdown
      content={`
#### Accessibility constraints as non-negotiable

  Accessibility requirements were encoded as hard constraints rather than guidelines.
  `}
    />

    <Usage>
      <UsageItem variant="do">
        Enforce color contrast, focus management, and keyboard navigation by default.
      </UsageItem>
      <UsageItem variant="dont">Allow opt-out accessibility features.</UsageItem>
      <UsageItem variant="do">
        Prevent configurations that violate accessibility standards.
      </UsageItem>
      <UsageItem variant="dont">Treat accessibility as a downstream responsibility.</UsageItem>
    </Usage>

    <Markdown
      content={`
#### System-level defaults over local overrides

Defaults were treated as part of the system’s contract.
  `}
    />

    <Usage>
      <UsageItem variant="do">
        Provide strong, opinionated defaults aligned with system goals.
      </UsageItem>
      <UsageItem variant="dont">Encourage local overrides for stylistic reasons.</UsageItem>
      <UsageItem variant="do">
        Encourage teams to rely on defaults instead of customization.
      </UsageItem>
      <UsageItem variant="dont">Allow silent deviations from system behavior.</UsageItem>
    </Usage>

    <Markdown
      content={`
#### Explicit “out of scope” decisions

Some use cases were intentionally excluded from the system.`}
    />

    <Usage>
      <UsageItem variant="do">Clearly document what the system does not support.</UsageItem>
      <UsageItem variant="dont">Attempt to cover every possible scenario.</UsageItem>
      <UsageItem variant="do">Use exclusions to protect system integrity.</UsageItem>
      <UsageItem variant="dont">
        Expand the system reactively without evaluating systemic impact.
      </UsageItem>
    </Usage>

    <Markdown
      content={`
#### Why this principle matters

Constraints are what make systems scalable and trustworthy.

They reduce cognitive load, prevent entropy, and make correct usage the easiest path.

A design system without constraints is not flexible, it is fragile.

By designing constraints intentionally, the system enables creativity within safe and predictable boundaries.
  `}
    />
  </article>

  <Bibliography
    opener="Constraints-driven systems are grounded in both design and software architecture practices:"
    closer="These sources emphasize the value of constraints as a foundation for scalable design systems."
  >
    <BibliographySection type="books">
      <BibliographyItem
        author="Don Norman"
        title="The Design of Everyday Things"
        description="Explains how constraints guide user behavior and reduce error."
        url="https://jnd.org/the-design-of-everyday-things-revised-and-expanded-edition/"
      />
      <BibliographyItem
        author="Dan Saffer"
        title="Microinteractions"
        description="Demonstrates how constraints shape interaction behavior and feedback."
        url="https://cdn.bookey.app/files/pdf/book/en/microinteractions.pdf"
      />

      <BibliographyItem
        author="Eric Evans"
        title="Domain-Driven Design"
        description="Provides architectural grounding for explicit boundaries and constrained models."
        url="https://www.domainlanguage.com/ddd/"
      />
      <BibliographyItem
        author="Kent Beck"
        title="Tidy First?"
        description="Reinforces the idea of small, intentional constraints as a driver of sustainable systems."
        url="https://www.amazon.com/Tidy-First-Personal-Exercise-Empirical/dp/1098151240"
      />

      <BibliographyItem
        author="Alla Kholmatova"
        title="Design Systems"
        description="Discusses how explicit constraints prevent design system degradation."
        url="https://www.smashingmagazine.com/design-systems-book/"
      />

      <BibliographyItem
        author="Brad Frost"
        title="Atomic Design"
        description="Emphasizes constraints at different abstraction levels to maintain system integrity."
        url="https://atomicdesign.bradfrost.com/"
      />
    </BibliographySection>

    <BibliographySection type="urls">
      <BibliographyItem
        author="Nathan Curtis"
        title="System Boundaries and Guardrails"
        description="Focuses on guardrails as enablers rather than restrictions."
        status="missing"
        url="https://medium.com/eightshapes-llc/guardrails-not-guidelines-9c7a8fddae8a"
      />

      <BibliographyItem
        author="Material Design"
        title="Design Tokens and Constraints"
        description="Shows how constraints are encoded through tokens and system rules."
        url="https://m3.material.io/foundations/design-tokens/overview"
      />

      <BibliographyItem
        author="GOV.UK Design System"
        title="Accessibility Constraints"
        description="Demonstrates non-negotiable constraints applied at system level."
        url="https://design-system.service.gov.uk/accessibility/"
      />
    </BibliographySection>
  </Bibliography>

  <PrincipleNav
    baseUrl={baseUrl}
    currentPrincipleId={principle.id}
    sectionPath={sectionPath}
    allPrinciples={data.principles}
  />
</UseCaseLayout>
