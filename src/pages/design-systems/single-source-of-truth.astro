---
import PrincipleLayout from '../../layouts/PrincipleLayout.astro';
import data from '../../data/design-systems.json';
import Nav from '../../components/Nav.astro';
import SectionNav from '../../components/SectionNav.astro';
import PrincipleNav from '../../components/PrincipleNav.astro';
import Markdown from '../../components/Markdown.astro';
import Bibliography from '../../components/Bibliography.astro';
import BibliographyItem from '../../components/BibliographyItem.astro';
import BibliographySection from '../../components/BibliographySection.astro';
import Separator from '../../components/Separator.astro';
import StorybookAsThePrimaryReference from '../../components/use-cases/design-systems/single-source-of-truth/StorybookAsThePrimaryReference.astro';
import ComponentsDesignedAsPublicApis from '../../components/use-cases/design-systems/single-source-of-truth/ComponentsDesignedAsPublicApis.astro';
import CicdPipelinesAsAlignmentMechanisms from '../../components/use-cases/design-systems/single-source-of-truth/CicdPipelinesAsAlignmentMechanisms.astro';
import ExplicitProcessesForSystemChanges from '../../components/use-cases/design-systems/single-source-of-truth/ExplicitProcessesForSystemChanges.astro';
import AccessibilityEmbeddedInTheSourceOfTruth from '../../components/use-cases/design-systems/single-source-of-truth/AccessibilityEmbeddedInTheSourceOfTruth.astro';
const principle = data.principles.find((p) => p.id === 'single-source-of-truth')!;
const baseUrl = import.meta.env.BASE_URL;
const sectionPath = '/design-systems';
---

<PrincipleLayout
  title={`${principle.title} - Design Systems`}
  principle={principle}
  categoryColors={data.categoryColors}
  sectionName={data.title}
  sectionPath="/design-systems"
>
  <article class="grid gap-600">
    <Markdown
      content={`
When I design a design system, I treat it as the **single authoritative source** for components, patterns, accessibility rules, and behavioral decisions.

This approach reduces ambiguity, subjective interpretation, and divergence between design and development.

In practice, I have consistently observed that when multiple "sources of truth" coexist—design files, local implementations, undocumented patterns—teams start to:

- duplicate solutions,
- rebuild components locally,
- and make visual or technical decisions outside the system.

For this reason, anything that is not expressed within the design system should not be considered official.
Every extension or change must pass through the system itself, in an explicit, documented, and versioned way.

The goal is not control, but **clarity**: enabling teams to trust the system and focus on product work rather than interpretation and reconciliation.
    `}
    />
    <Separator class="my-600" />

    <StorybookAsThePrimaryReference />
    <ComponentsDesignedAsPublicApis />
    <CicdPipelinesAsAlignmentMechanisms />
    <ExplicitProcessesForSystemChanges />
    <AccessibilityEmbeddedInTheSourceOfTruth />

    <Markdown
      content={`
  #### Why this principle matters

  A single source of truth is not about enforcing rigidity.

  It is about:

  - reducing decision noise,
  - increasing confidence in the system,
  - preventing the silent fragmentation that turns design systems into optional libraries.

  Without this principle, a design system inevitably becomes:

  - a theoretical reference,
  - a partially adopted toolkit,
  - or a document that teams gradually ignore.
  `}
    />
  </article>
  <Bibliography
    opener="The concepts behind this principle align with established thinking in design systems and software architecture:"
    closer="These references inform the principle, but the implementation described above is grounded in real-world application rather than theory."
  >
    <BibliographySection type="books">
      <BibliographyItem
        author="Brad Frost"
        title="Atomic Design"
        description="Emphasizes composability and centralized systems as a way to manage complexity."
        url="https://atomicdesign.bradfrost.com/"
      />
    </BibliographySection>
    <BibliographySection type="urls">
      <BibliographyItem
        author="Nathan Curtis"
        title="Modular Design Systems"
        description="Discusses ownership, authority, and the importance of a clear system boundary."
        status="missing"
        url="https://modulardesignsystem.com/"
      />
      <BibliographyItem
        author="Alla Kholmatova"
        title="Design Systems"
        description="Explores how systems fail when authority and documentation are unclear."
        url="https://www.smashingmagazine.com/design-systems-book/"
      />
      <BibliographyItem
        author="Google Material Design Team"
        title="Design Systems at Scale"
        description="Highlights the role of shared sources and tooling in cross-team alignment."
        status="missing"
        url="https://material.io/design/systems/design-systems-at-scale.html"
      />
      <BibliographyItem
        author="Storybook Team"
        title="Design Systems for Developers"
        description="Frames Storybook as infrastructure rather than presentation."
        status="missing"
        url="https://storybook.js.org/docs/design-systems-for-developers/"
      />
    </BibliographySection>
  </Bibliography>

  <Nav>
    <SectionNav baseUrl={baseUrl} sectionPath={sectionPath} />
    <PrincipleNav
      baseUrl={baseUrl}
      currentPrincipleId={principle.id}
      sectionPath={sectionPath}
      allPrinciples={data.principles}
    />
  </Nav>
</PrincipleLayout>
